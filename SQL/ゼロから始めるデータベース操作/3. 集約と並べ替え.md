# 1. テーブルを集約して検索する
```sql
-- データ数を数える
SELECT COUNT(*)
  FROM Shohin;

-- NULLを除いて数える
SELECT COUNT(shiire_tanka)
  FROM Shohin;

-- 合計する
SELECT SUM(hanbai_tanka)
  FROM Shohin;

-- 平均値を求める
SELECT AVG(hanbai_tanka)
  FROM Shohin;

-- 最大値・最小値を求める
SELECT MAX(hanbai_tanka), MIN(shiire_tanka)
  FROM Shohin;

-- 重複を除いてカウント
SELECT COUNT(DISTINCT shohin_bunrui)
  FROM Shohin;

-- DISTINCT は COUNT以外でも使用可能
SELECT SUM(DISTINCT hanbai_tanka)
  FROM Shohin;
```

# 2. テーブルをグループに切り分ける
```sql
SELECT shohin_bunrui, COUNT(*)
  FROM Shohin
 GROUP BY shohin_bunrui;

-- WHERE句は先にくる
SELECT shiire_tanka, COUNT(*)
  FROM Shohin
 WHERE shohin_bunrui = '衣服'
 GROUP BY shiire_tanka;

-- 実行は FROM ⇒ WHERE ⇒ GROUP ⇒ SELECTの順なので、
-- SELECTで付けた別名をGROUP BYでは使えない

-- Groupbyの集約した結果に条件を指定するのはWHERE ではなく Havingを使う
```