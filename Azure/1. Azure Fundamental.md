# クラウドモデル
* クラウドコンピューティング : インターネット上でコンピューティングサービスを提供すること
* Microsoftでは以下3種類を提供している
* パブリッククラウド：不特定多数のユーザに対し、インターネットを通じて、クラウドコンピューティング環境を提供するサービス
    * スケールアップのための設備投資がない
    * アプリケーションを素早くプロビジョニングできる
        * プロビジョニング:資源の割り当てや設定などを行い、利用や運用が可能な状態にすること
    * 使用したものに対してのみ支払う
* プライベートクラウド：組織がデータセンターにクラウド環境を作成、組織が提供するサービスの運用を担当
    * ハードウェアの購入が必要
    * リソース、セキュリティの完全なコントロールが可能
    * 組織がハードウェアのメンテナンスと更新を担当する
* ハイブリッドクラウド：パブリックとプライベートの組み合わせ
    * 最も高い柔軟性を提供
    * 組織は、アプリケーションを執行する場所を決定する
    * 組織はセキュリティ、コンプライアンス、法的要件を管理する

## クラウドのメリット
* 予測可能なコスト設計
    * pay-as-you-go
* 高可用性
    * エンドユーザーから見てサービスが可用である
    * アクセスが多くても落ちない等
* フォールトトレランス（高可用性と類似）
    * エラーに対して許容できる
* スケーラビリティ
* 弾力性（スケーラビリティと類似）
    * スケーラビリティ＋自動的な展開
    * リクエストが多く来たら、リソースを自動で増やす
* 俊敏性
    * 素早くリソースを増やしたり、今までなかったサービスをすぐにDeploy可能

## CapEx/OpEx
* 資本的支出(Capital Expenditure)
    * 物理インフラへの先行支出
        * そんなに使わないことが起こりうる
    * 時間がたてばコストが下がる

* 運営支出(Operational Expenditure)
    * 必要に応じて、サービスや製品に支出する
    * 経費は同一年度に差し引かれる

* 消費ベースモデル
    * エンドユーザーが支払うのは自分が使用したリソース分だけ

# クラウドサービス
Iaas ⇒ Paas ⇒ Saas にいくに従い、管理するものが少なくなり、柔軟性が低くなる。  
* Iaas : Infra as a service
    * 最も柔軟なクラウドサービス    
    * クラウドプロバイダーがインフラをサービスとして提供する
        * 以下のものが含まれる
        * サーバー、ストレージ
        * ネットワークファイアウォール、セキュリティ
        * データセンターの物理プラント/施設
* Paas : Platform as a service
    * アプリケーション開発に焦点を当てる
    * Iaasよりもユーザーが管理するものが少ない
    * OS、開発のためのツール、展開するためのツールが含まれる
* Saas : Software as a service
    * ユーザーはサブスクリプションモデルに基づいてソフトウェア料金を支払う
    * ソフトウェアを直接提供
    * Office365等クラウドベースのアプリ

## 共同責任モデル
たとえばOffice365で、自分のプロフィールは自分が入力する。どういうものを入力して、どう使うかはユーザーの責任（データと責任）  

* Iaas だとプロバイダが計算/ネットワーク/ストレージを管理、それ以外をユーザーが管理
* Paas だとプロバイダがランタイム/OS/仮想マシンも管理、データとアクセス/アプリケーションのみユーザーが管理
* Saas だとデータとアクセスのみユーザーが管理]

## サーバーレスコンピューティング
* サーバーとコードを分けて、ビジネスロジックのみに集中する考え方
* Azure Functions : コードを中心としたサービス構築
    * あるトリガーをもとにビジネスロジックを走らせる（リクエストを受け取ったらDBに書き込む等）
    * これまでは同じようなサーバーのコードを書かないといけなかったが、ビジネスロジックのみ書くので楽
* Azure Logic Apps : ローコードでアプリ、データ、システム、サービスを統合する
    * 既にOffice365にメールが来たら、他のDBに書き込む 等を自動化できる

# Azureのコアアーキテクチャ
* リージョン：近接した1箇所以上のデータセンターで構成される
    * 柔軟性と拡張性を提供し、待ち時間を短縮する
    * データの常駐性を保持する（ヨーロッパなどデータを持ち出してはいけないが、データがリージョンから出ない）

* リージョンペア
    * リージョンペア間の距離が少なくとも300マイル以上
    * 一部のサービスの自動レプリケーション
    * 停電時はリージョン復旧を優先する
    * 更新時は、ダウンタイムを最小限に抑えるために順次ロールアウトされる
        * ロールアウト：公開

* 可用性オプション
    * 単一のサービスだと99.9%の可用性
    * 可用性オプションをつけると99.99%の可用性
        * 可用性ゾーンは物理的に離れていて、独立した電源、冷却、ネットワークが装備されている
        * 基本的には同時にダウンしないはず
    * さらに向上させたければ、リージョンペアを活用する

* リソースグループ：1つの単位でリソースの管理と集約をするための入れ物
    * リソースは1つのリソースグループにのみ所属可能
    * 所属のリソースは異なるリージョンに存在可能
    * アプリケーションは複数のリソースグループを利用可能

* Azure Resource Manager(ARM)：リソースを管理するツール
    * Azureサブスクリプション内のリソースを作成、更新、削除できるレイヤーを提供する

* Azureサブスクリプション：アカウントを管理するツール
    * 課金境界：サブスクリプションごとに個別の請求が可能
        * 開発サブスクリプション、テストサブスクリプションなど

* 管理グループ：サブスクリプションを管理する
    * 複数のAzureサブスクリプションを含めることが可能

# Azureのコアワークロード
* Azure Virtual Machines(VM): 物理コンピュータのソフトウェアエミュレーション（仮想マシン）
    * 仮想プロセッサ、メモリ、ストレージ、ネットワークが含まれる
    * 完全な制御とカスタマイズを提供するIaaS

* Azure App Services : Webアプリを素早く展開
    * Paasオファリング

* Azure Container Service : コンテナの管理ツール
    * Azure Container Instances
        * PaaSオファリング
        
    * Azure Kubernates Service
        * 大量のコンテナのためのオーケストレーションサービス

* Windows Virtual Desktop
    * デスクトップとアプリの仮想化サービス
    * 完全なデスクトップ仮想化環境を構築する
        * 自分のローカルPCであるかのように、実行可能

* Azure ネットワーキングサービス
    * Azure Virtual Network(Vnet)
        * Azureリソースが相互にインターネット、オンプレミスネットワークと通信可能
        * 2台のVMを接続するデモを実施
    * Virtual Private Network Gateway(VPN)
        * パブリックインターネットを介して、Azure仮想ネットワークとオンプレミスの間で通信する
    * Azure Express Route
        * プライベートな回線を使ってよりセキュアにオンプレミスネットワークを拡張できる

* Azure Storageサービス
    * Container storage(blob)
        * テキストやバイナリデータなどの大量の非構造化データを格納
    * Azure Files
    * アクセスレベルがホット、クール、アーカイブに分かれる
        * ホット：頻繁にアクセスされるデータの格納に最適化
        * クール
        * アーカイブ : めったにアクセスされないデータを保管

* Azure database services
    * Azure Cosmos Database
        * スループットとストレージを弾力的かつ独立してスケールできるグローバル分散データベースサービス
        * NoSQL
    * Azure SQL Database
        * 最新のSQLを搭載

* Azure SQL Managed Instance
    * 既存のSQLServerを最小限の変更で、オンプレミスからクラウドに移行可能

* Azure Marketplace
    * Azureが認定したプロバイダーによるアプリケーションとサービスから検索、試行、購入、プロビジョニングが可能

# Azureのコアソリューション
* IoT: デバイスが情報を収集し、中継する機能
* Azure IoT Central
    * 完全管理型のグローバルなIoTのSaaSソリューション
* Azure IoT Hub
    * すべてのデバイスを接続できる、クラウドでホストされるソリューションを提供する
* Azure Sphere
    * インターネットに接続されたデバイス向けの通信機能とセキュリティ機能を内蔵
    * セキュリティがしっかりして、安全性が高い

## ビッグデータと分析
* Azure Stream Analytics
    * エンタープライズ用のウェアハウス
* Azure HDInsight
    * フルマネージドオープンソース分析サービス
    * Hadoop, Spark, Kafka が使える
* Azure Databricks：(HDInsightでもSparkは使えるが、DatabricksはよりSparksにフォーカスしている)
    * Apache Sparkベースの分析プラットフォーム

## 人工知能と機械学習
* Azure Machine Learning
    * クラウドベースで機械学習モデルを開発、トレーニング、展開する
    * Azure Machine Learning Studioはノーコードで可能
* Cognitive Services
    * 人間の認知をマネするAIが裏にあり、サービスベースでAPIとして提供している
* Azure Bot Service
    * チャットボットを使うためのサービス

## サーバーレスコンピューティング  
* Azure Functions：コードを中心としたサービス構築
    * 関数を作った後トリガーを追加する
* Azure Logic Apps：ローコードでいろんなものを整合

## DevOps と GitHubでアプリを開発する
* Dev Ops : 開発＋オペレーション。開発がオペレーションを兼ねる。
* Azure DevOps
    * パイプライン、看板などの開発ツール一式を提供
* GitHub
    * バージョン管理、ソースコード管理
* GitHub Actions for Azure
    * Githubで構築からテスト、展開までのワークフローを自動化する
* Azure DevTest Labs
    * Azureで環境を迅速に作成し、無駄を最小限に抑えコストを抑える
    * テストのためにちょっとした環境を作る

# Azure Management Tools
* デモ
    * ARMテンプレートを使ってVMを作成する
    * クラウドシェルを使ってVMを作成する（クラウド上のPower Shell)

## Azure Advisor
* Azureがベストプラクティスを推奨してくれる
    * 信頼性、セキュリティ、パフォーマンス、コスト、オペレーショナルエクセレンス

## Azure Monitor
* 製品利用統計情報を収集、分析、処理により、アプリケーションとサービスの可用性とパフォーマンスをモニターする

## Azure Service Health
* 使用しているAzureサービスとリージョンの正常性のパーソナライズされたビューを提供する

## Azure Resource Manager(ARM) templates
* JSONファイルでプログラミングコマンドを記述せずに、Azureインフラストラクチャの作成と展開のために使用可能