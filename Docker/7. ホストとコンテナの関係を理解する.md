# 1. -vオプションを使ってファイルシステムを共有する
* -v <host>:<container> オプションでホストのファイルシステムをマウントする

```Dockerfile
FROM ubuntu:16.04
# フォルダが無くても、マウントするとできるため無くても良い
RUN mkdir new_dir
```

```sh
cd 7-1
cd docker
docker build .
docker images

# mountを実行
docker run -it -v C:/Users/***/study-records/Docker/7/7-1/mounted_folder:/new_dir <imageID> bash

# マウントできていることを確認
cd new_dir
```

# 2. ホストとコンテナのアクセス権限を管理する
指定したユーザーIDでコンテナをRunする。  
そのため、Dockerfileで作成したルート権限が必要なフォルダに書き込みができなくなる。

```sh
# gitbashで実行
id -u # ユーザーIDを確認
id ^g # グループIDを確認
```

```Dockerfile
FROM ubuntu:16.04
# RUNでフォルダを作成
RUN mkdir created_in_Dockerfile
```

```sh
cd 7-2
cd docker
docker build .
docker images
# u <ユーザーID>:<グループID>　とする
# これによりコンテナがユーザーIDの権限で実行される
docker run -it -u 197609:197609 -v C:/Users/***/study-records/Docker/7/7-2/mounted_folder:/created_in_run <imageID> bash

# permissionの確認
ls -la で権限を確認

# Created_in_dockerfileに書き込みできない
cd Created_in_dockerfile
# testファイルを作れない
touch test
```

権限の確認の方法。
* drwxrwxrwx
    * d:ディレクトリ（フォルダであることを示す）
    * r:読み取り
    * w:書き込み
    * x:実行
    * d（所有者）（所有グループ）（その他）　となっており、上の例ではすべて可能。